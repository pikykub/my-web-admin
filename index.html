<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZXNT STUDIO - ‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --main-red: #ff0040; --dark: #1a1a1a; }
        body { font-family: 'Kanit', sans-serif; margin: 0; background: #fcfcfc; }
        
        /* Navbar */
        .navbar { background: var(--main-red); padding: 12px 5%; display: flex; justify-content: space-between; align-items: center; color: white; position: sticky; top: 0; z-index: 1000; }
        .nav-links a, .nav-links span { color: white; text-decoration: none; margin-left: 20px; cursor: pointer; font-size: 14px; }
        .admin-only-btn { background: #222; padding: 6px 15px; border-radius: 20px; display: none; font-weight: bold; border: 1px solid white; }
        .btn-login-display { background: white; color: var(--main-red) !important; padding: 6px 15px; border-radius: 20px; font-weight: bold; }

        /* Banner */
        .hero { background: var(--dark); color: white; text-align: center; padding: 80px 20px; border-bottom: 5px solid var(--main-red); }
        .hero h1 { font-size: 36px; margin: 0; }

        /* Content */
        .container { max-width: 1100px; margin: 40px auto; padding: 0 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }
        .card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); text-align: center; border: 1px solid #eee; transition: 0.3s; }
        .card:hover { transform: translateY(-5px); }
        .card-img { height: 180px; background: #333; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .card-body { padding: 20px; }
        .price { color: var(--main-red); font-size: 24px; font-weight: bold; margin: 10px 0; }
        .btn-group { display: flex; gap: 10px; }
        .btn { flex: 1; padding: 10px; border-radius: 8px; border: none; cursor: pointer; font-family: 'Kanit'; font-weight: bold; }
        .btn-demo { background: #eee; color: #333; text-decoration: none; display: inline-block; line-height: 20px; }
        .btn-buy { background: var(--main-red); color: white; }

        /* Admin Panel Section (Hidden by default) */
        #adminPanel { display: none; background: #fff; margin-top: 40px; padding: 30px; border-radius: 15px; border: 3px dashed var(--main-red); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .status-badge { padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 14px; }
        .active-bg { background: #e8f5e9; color: #2e7d32; }
        .off-bg { background: #ffebee; color: #c62828; }
    </style>
</head>
<body>

    <nav class="navbar">
        <div style="font-size: 22px; font-weight: bold;">ZXNT STUDIO</div>
        <div class="nav-links">
            <a href="index.html">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
            <span id="adminBtn" class="admin-only-btn" onclick="toggleAdminPanel()">‚öôÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö</span>
            <a href="login.html" id="loginBtn" class="btn-login-display">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
            <span id="userGreet" style="margin-left:10px; font-size: 12px;"></span>
        </div>
    </nav>

    <div class="hero">
        <h1>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ</h1>
        <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö ‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ 24 ‡∏ä‡∏°.</p>
    </div>

    <div class="container">
        <h2>üî• ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h2>
        <div class="grid">
            <div class="card">
                <div class="card-img">SHOP TEMPLATE 01</div>
                <div class="card-body">
                    <h3>‡πÄ‡∏ß‡πá‡∏ö‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô</h3>
                    <div class="price">‡∏ø 300 / ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div>
                    <div class="btn-group">
                        <a href="https://pikykub.github.io/baobeishop/" target="_blank" class="btn btn-demo">‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</a>
                        <button class="btn btn-buy">‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏•‡∏¢</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="adminPanel">
            <h2 style="color:var(--main-red); margin-top:0;">üõ† ‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</h2>
            <hr>
            <div id="shopManager">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
        import { getFirestore, doc, onSnapshot, updateDoc } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBORnXLQdZnETh9AMFMUx50FlLylKCVc2w",
            authDomain: "web-rental-system-d8894.firebaseapp.com",
            projectId: "web-rental-system-d8894",
            storageBucket: "web-rental-system-d8894.firebasestorage.app",
            messagingSenderId: "389385259939",
            appId: "1:389385259939:web:5a8de35f4a06b906e66816"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        // ‚ö†Ô∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ!
        const ADMIN_LIST = ["feirnbiddu10@gmail.com"]; 

        onAuthStateChanged(auth, (user) => {
            if (user) {
                document.getElementById('loginBtn').style.display = 'none';
                document.getElementById('userGreet').innerText = "‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ: " + user.email;
                
                if (ADMIN_LIST.includes(user.email)) {
                    document.getElementById('adminBtn').style.display = 'inline-block';
                    initAdminControl();
                }
            }
        });

        window.toggleAdminPanel = () => {
            const p = document.getElementById('adminPanel');
            p.style.display = (p.style.display === 'block') ? 'none' : 'block';
            if(p.style.display === 'block') p.scrollIntoView({ behavior: 'smooth' });
        };

        function initAdminControl() {
            onSnapshot(doc(db, "shops", "shop001"), (snap) => {
                if (snap.exists()) {
                    const data = snap.data();
                    const active = data.status === 'active';
                    document.getElementById('shopManager').innerHTML = `
                        <div style="padding:15px; background:#f9f9f9; border-radius:10px;">
                            <strong>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô: ${data.name}</strong><br><br>
                            ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <span class="status-badge ${active ? 'active-bg' : 'off-bg'}">
                                ${active ? 'üü¢ ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥' : 'üî¥ ‡∏ñ‡∏π‡∏Å‡∏£‡∏∞‡∏á‡∏±‡∏ö'}
                            </span><br><br>
                            <button onclick="updateShopStatus('${active ? 'suspended' : 'active'}')" 
                                style="background:${active ? '#ff4d4d' : '#2ecc71'}; color:white; border:none; padding:12px 20px; border-radius:8px; cursor:pointer; font-weight:bold; width:100%;">
                                ${active ? '‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏á‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Suspend)' : '‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤'}
                            </button>
                        </div>
                    `;
                }
            });
        }

        window.updateShopStatus = async (s) => {
            await updateDoc(doc(db, "shops", "shop001"), { status: s });
        };
    </script>
</body>
</html>
